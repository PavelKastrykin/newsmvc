CREATE USER "NEWSTSK1" 
DEFAULT TABLESPACE "USERS"
TEMPORARY TABLESPACE "TEMP"
ACCOUNT UNLOCK ;
ALTER USER "NEWSTSK1" QUOTA UNLIMITED ON USERS;

CREATE TABLE "NEWSTSK1"."NEWS_AUTHORS" 
   (	"NEWS_ID" NUMBER(20,0) NOT NULL ENABLE, 
	"AUTHOR_ID" NUMBER(20,0) NOT NULL ENABLE
	) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;

CREATE TABLE "NEWSTSK1"."NEWS" 
   (	"NEWS_ID" NUMBER(20,0) NOT NULL ENABLE, 
	"TITLE" NVARCHAR2(30) NOT NULL ENABLE,
	"SHORT_TEXT" NVARCHAR2(100) NOT NULL ENABLE,
	"FULL_TEXT" NVARCHAR2(2000) NOT NULL ENABLE,
	"CREATION_DATE" TIMESTAMP NOT NULL ENABLE,
	"MODIFICATION_DATE" DATE NOT NULL ENABLE,
	 CONSTRAINT "NEWS_PK" PRIMARY KEY ("NEWS_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;


  CREATE TABLE "NEWSTSK1"."NEWS_TAGS" 
   (	"NEWS_ID" NUMBER(20,0) NOT NULL ENABLE, 
	"TAG_ID" NUMBER(20,0) NOT NULL ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;

CREATE TABLE "NEWSTSK1"."TAGS" 
   (	"TAG_ID" NUMBER(20,0) NOT NULL ENABLE, 
	"TAG_NAME" NVARCHAR2(30) NOT NULL ENABLE, 
	 CONSTRAINT "TAG_PK" PRIMARY KEY ("TAG_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;

CREATE TABLE "NEWSTSK1"."AUTHORS" 
   (	"AUTHOR_ID" NUMBER(20,0) NOT NULL ENABLE, 
	"AUTHOR_NAME" NVARCHAR2(30) NOT NULL ENABLE, 
	"EXPIRED" TIMESTAMP (6), 
	 CONSTRAINT "AUTHOR_PK" PRIMARY KEY ("AUTHOR_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;


  CREATE TABLE "NEWSTSK1"."COMMENTS" 
   (	"COMMENT_ID" NUMBER(20,0) NOT NULL ENABLE, 
	"NEWS_ID" NUMBER(20,0) NOT NULL ENABLE, 
	"COMMENT_TEXT" NVARCHAR2(100) NOT NULL ENABLE, 
	"CREATION_DATE" TIMESTAMP (6) NOT NULL ENABLE, 
	 CONSTRAINT "COMMENTS_PK" PRIMARY KEY ("COMMENT_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;


alter table "NEWSTSK1"."NEWS_AUTHORS" add constraint NEWS_ID_FK foreign key("NEWS_ID") references "NEWSTSK1"."NEWS"("NEWS_ID");
alter table "NEWSTSK1"."NEWS_AUTHORS" add constraint AUTHOR_ID_FK foreign key("AUTHOR_ID") references "NEWSTSK1"."AUTHORS"("AUTHOR_ID");
alter table "NEWSTSK1"."NEWS_TAGS" add constraint NEWS_TAGS_ID_FK foreign key("NEWS_ID") references "NEWSTSK1"."NEWS"("NEWS_ID");
alter table "NEWSTSK1"."NEWS_TAGS" add constraint TAG_ID_FK foreign key("TAG_ID") references "NEWSTSK1"."TAGS"("TAG_ID");
alter table "NEWSTSK1"."COMMENTS" add constraint COMMENTS_NEWS_ID_FK foreign key("NEWS_ID") references "NEWSTSK1"."NEWS"("NEWS_ID");


CREATE SEQUENCE news_seq 
START WITH      1
INCREMENT BY    1
NOCACHE
NOCYCLE;

CREATE SEQUENCE authors_seq
START WITH      1
INCREMENT BY    1
NOCACHE
NOCYCLE;

CREATE SEQUENCE tags_seq
START WITH      1
INCREMENT BY    1
NOCACHE
NOCYCLE;

CREATE SEQUENCE comments_seq
START WITH      1
INCREMENT BY    1
NOCACHE
NOCYCLE;
